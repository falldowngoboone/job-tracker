<!DOCTYPE html>
<html lang="en" ng-app="hotsheet">
<head>
  <meta charset="UTF-8">
  <title>Ryan's Hotsheet</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div id="hotsheet" ng-controller="hotsheetCtrl">

    <div class="section">

      <h2 class="banner"><span ng-click="toggleEdit(todayJobs)">Working on Today, {{date | date:'MM/dd'}}</span> <span ng-show="todayJobs.edit" ng-click="addClient(todayJobs)">+</span></h2>



      <div class="client" ng-repeat="client in clients track by $index">

        <h3>
          <span ng-click="toggleEdit(client.today)">{{client.name}}</span>

          <form ng-submit="toggleEdit(client.today)" ng-show="client.today.edit">
            <input type="text" ng-model="client.name">
            <span ng-click="addToday(client)">Add New Item</span> |
            <span ng-click="deleteClient(client)">Delete {{client.name}}</span>
          </form>

        </h3>

        <ul>
          <li class="{{today.status}}" ng-repeat-start="today in client.today">
            <span ng-click="toggleEdit(today)">{{today.item}}</span>
          </li>

          <form name="form" ng-submit="toggleEdit(today)" ng-show="today.edit" ng-repeat-end>
            <input type="text" ng-model="today.item">
            <select type="text" ng-model="today.status">
              <option value="normal">normal</option>
              <option value="need">need</option>
              <option value="late">late</option>
              <option value="alert">alert</option>
            </select>
            <span ng-click="deleteToday(today, client)">Delete</span><br>
            <input type="submit" value="Done">

          </form>

        </ul>

      </div>

    </div>


    <div class="section">

      <h2 class="banner"><span ng-click="toggleEdit(hotsheetJobs)">Hotsheet</span> <span ng-show="hotsheetJobs.edit" ng-click="addClient(hotsheetJobs)">+</span></h2>

      <div class="client" ng-repeat="client in clients track by $index">

        <h3>
          <span ng-click="toggleEdit(client)">{{client.name}}</span>
          <form ng-submit="toggleEdit(client)" ng-show="client.edit">
            <input type="text" ng-model="client.name">
            <span ng-click="addProject(client)">Add New Project</span> |
            <span ng-click="addMeeting(client)">Add New Meeting</span> |
            <span ng-click="deleteClient(client)">Delete {{client.name}}</span>
          </form>
        </h3>
        <ul>
          <li class="{{project.status}}" ng-repeat-start="project in client.projects | orderBy:['-!atv', 'atv'] track by $index" ng-click="toggleEdit(project)" ng-show="!project.edit">
            {{project.name}} &ndash;
            <span class="{{task.status}}" ng-repeat="task in project.tasks | orderBy:['-!due', 'due']">
              {{task.item}}<span ng-show="task.due"> ({{task.due | date:'MM/dd'}})</span><span ng-show="!$last">,</span>
            </span>
            <span ng-show="project.atv">(ATV {{project.atv | date:'MM/dd'}})</span>
            <span class="alert" ng-hide="project.jof">
              need JOF
            </span>
          </li>

          <form name="form" ng-submit="toggleEdit(project)" ng-show="project.edit" ng-repeat-end>
            <strong ng-click="toggleEdit(project)">{{project.name}}</strong> |
            <span ng-click="addTask(project)">Add Task</span> |
            <span ng-click="deleteProject(project, client)">Delete Project</span><br>
            <input type="text" ng-model="project.name">
            <select type="text" ng-model="project.status">
              <option value="normal">normal</option>
              <option value="need">need</option>
              <option value="late">late</option>
              <option value="alert">alert</option>
              <option value="collected">collected</option>
            </select>
            <input type="text" ng-model="project.atv" placeholder="YYYY-MM-DD">
            <input type="checkbox" ng-model="project.jof" id="jof-{{$index}}">
            <label for="jof-{{$index}}">JOF</label> <br>
            <strong ng-click="toggleEdit(project)">Tasks:</strong><br>
            <input type="text" ng-repeat-start="task in project.tasks | orderBy:['-!due', 'due']" ng-model="task.item">
            <select type="text" ng-model="task.status">
              <option value="normal">normal</option>
              <option value="need">need</option>
              <option value="late">late</option>
              <option value="alert">alert</option>
            </select>
            <input type="text" ng-model="task.due" placeholder="YYYY-MM-DD">
            <span ng-click="deleteTask(task, project, client)">Delete Task</span><br ng-repeat-end>
            <input type="submit" value="Done">
          </form>

        </ul>

        <div ng-show="client.meeting" class="meeting">
          <p class="{{client.meeting.status}}" ng-click="toggleEdit(client.meeting)" ng-show="!client.meeting.edit">
            Next {{client.name}} Meeting: {{client.meeting.date}}
            <span class="alert" ng-hide="client.meeting.jof">
              need JOF
            </span>
          </p>
          <ul ng-show="client.meeting.boards && !client.meeting.edit">
            <li class="{{board.status}}" ng-repeat="board in client.meeting.boards">
              {{board.board}}
            </li>
          </ul>
          <form ng-submit="toggleEdit(client.meeting)" ng-show="client.meeting.edit">
            <label ng-click="toggleEdit(client.meeting)">Next {{client.name}} meeting:</label> <input type="text" ng-model="client.meeting.date" id="meeting-date">
            <select type="text" ng-model="client.meeting.status">
              <option value="normal">normal</option>
              <option value="need">need</option>
              <option value="late">late</option>
              <option value="alert">alert</option>
            </select>
            <input type="checkbox" ng-model="client.meeting.jof" id="meeting-jof"> <label for="meeting-jof">JOF</label> |
            <span ng-click="addBoard(client)">Add Board</span> |
            <span ng-click="deleteMeeting(client)">Delete Meeting</span> <br>
            <input type="text" ng-repeat-start="board in client.meeting.boards" ng-model="board.board">
            <select type="text" ng-model="board.status">
              <option value="normal">normal</option>
              <option value="need">need</option>
              <option value="late">late</option>
              <option value="alert">alert</option>
            </select> <br ng-repeat-end>
            <input type="submit" value="Done">
          </form>
        </div>

      </div>

    </div>

    <br><br><br><br><br>
  </div>

  <script src="js/vendor/angular/angular.min.js"></script>
  <script src="js/ng-hotsheet.js"></script>

</body>
</html>