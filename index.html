<!DOCTYPE html>
<html lang="en" ng-app="hotsheet">
<head>
  <meta charset="UTF-8">
  <title>Ryan's Hotsheet</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div id="hotsheet" ng-controller="hotsheetCtrl">

    <div class="section">

      <h2 class="banner"><span ng-model="todayJobs.edit" ng-click="todayJobs.edit=!todayJobs.edit">Working on Today, {{date}}</span> <span ng-show="todayJobs.edit" ng-click="clients.push({name:'New Client',projects:[],today:[]})">+</span></h2>



      <div class="client" ng-repeat="client in clients">

        <h3>
          <span ng-click="toggleEdit(client.today)">{{client.name}}</span> <span ng-click="addToday(client)" ng-show="client.today.edit">+</span> <span ng-click="deleteClient(client)" ng-show="client.today.edit">-</span>
          <form ng-submit="toggleEdit(client.today)" ng-show="client.today.edit">
            <input type="text" ng-model="client.name">
          </form>
        </h3>
        <ul>
          <li class="{{job.status}}" ng-repeat="job in client.today">
            <span ng-click="toggleEdit(job)">{{job.item}}</span>
            <form name="form" ng-submit="toggleEdit(job)" ng-show="job.edit">
              <input type="text" ng-model="job.item">
              <select type="text" ng-model="job.status">
                <option value="normal">normal</option>
                <option value="need">need</option>
                <option value="late">late</option>
                <option value="alert">alert</option>
              </select>

            </form>
          </li>
        </ul>

      </div>

    </div>


    <div class="section">

      <h2 class="banner"><span ng-model="todayJobs.edit" ng-click="hotsheetJobs.edit=!hotsheetJobs.edit">Hotsheet</span> <span ng-show="hotsheetJobs.edit" ng-click="clients.push({name:'New Client',projects:[],today:[]})">+</span></h2>

      <div class="client" ng-repeat="client in clients">

        <h3>
          <span ng-click="toggleEdit(client)">{{client.name}}</span> <span ng-click="client.projects.unshift({name:'new'})" ng-show="client.edit">+</span> <span ng-click="deleteClient(client)" ng-show="client.edit">-</span>
          <form ng-submit="toggleEdit(client)" ng-show="client.edit">
            <input type="text" ng-model="client.name">
          </form>
        </h3>
        <ul>
          <li class="{{project.status}}" ng-repeat="project in client.projects">
            {{project.name}} &ndash;
            <span class="{{task.status}}" ng-repeat="task in project.tasks">
              {{task.item}}<span ng-show="task.due"> ({{task.due}})</span>,
            </span>
            (ATV {{project.atv}})
            <span class="alert" ng-hide="project.jof">
              need JOF
            </span>
          </li>
        </ul>

        <div class="meeting">
          <p class="{{client.meeting.status}}">
            Next {{client.name}} Meeting: {{client.meeting.date}}
            <span class="alert" ng-hide="client.meeting.jof">
              need JOF
            </span>
          </p>
          <ul>
            <li class="{{board.status}}" ng-repeat="board in client.meeting.boards">
              {{board.board}}
            </li>
          </ul>
        </div>

      </div>

    </div>

    <br><br><br><br><br>
  </div>

  <script src="js/vendor/angular/angular.min.js"></script>
  <script src="js/ng-hotsheet.js"></script>

</body>
</html>